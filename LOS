local OrionLib = loadstring(game:HttpGet("https://raw.githubusercontent.com/shlexware/Orion/main/source"))()

-- Whitelist System
local allowedUsers = {
    ["king_syria684"] = true,
    ["Faris_ZO7L"] = true
}

local localPlayer = game.Players.LocalPlayer

if not allowedUsers[localPlayer.DisplayName] then
    localPlayer:Kick("Unauthorized access detected! ‚öîÔ∏èüî•")
    return
end

-- Key System
local correctKey = "BroWeCooking"
local userInputKey = ""

local function checkKey()
    if userInputKey == correctKey then
        return true
    else
        game.Players.LocalPlayer:Kick("Incorrect Key! Access Denied! ‚öîÔ∏èüî•")
        return false
    end
end

-- UI Setup
local Window = OrionLib:MakeWindow({Name = "xCxS Hub", HidePremium = false, SaveConfig = true, ConfigFolder = "SwiftSamuraiConfig", IntroEnabled = false})

Window:SetDraggable(true) -- Enables draggable UI

Window:AddButton({Name = "Minimize UI", Callback = function()
    Window:Toggle() -- Toggles visibility
end})

Window:AddColorPicker({
    Name = "Choose UI Color",
    Default = Color3.fromRGB(255, 0, 0),
    Callback = function(color)
        Window:SetTheme(color)
    end
})

local KeyTab = Window:MakeTab({Name = "Key System", Icon = "rbxassetid://4483345998", PremiumOnly = false})
local MainTab = Window:MakeTab({Name = "Main", Icon = "rbxassetid://4483345998", PremiumOnly = false})
local RebirthsTab = Window:MakeTab({Name = "Rebirths", Icon = "rbxassetid://4483345998", PremiumOnly = false})
local PetsTab = Window:MakeTab({Name = "Pets", Icon = "rbxassetid://4483345998", PremiumOnly = false})
local AutofarmOPTab = Window:MakeTab({Name = "Autofarm OP", Icon = "rbxassetid://4483345998", PremiumOnly = false})
local CreditsTab = Window:MakeTab({Name = "Credits", Icon = "rbxassetid://4483345998", PremiumOnly = false})

-- Key System UI
KeyTab:AddTextbox({
    Name = "Enter Key",
    Default = "",
    TextDisappear = true,
    Callback = function(value)
        userInputKey = value
        if checkKey() then
            Window:DestroyTab(KeyTab) -- Removes key system tab after success
        end
    end
})

-- Main Tab
MainTab:AddLabel("Welcome, GP_Cody456 & Sellingmillionwarrio! ‚öîÔ∏èüî• Whitelist Verified!")

-- Rebirths Tab
RebirthsTab:AddButton({Name = "Start Glitch Rebirth", Callback = function()
    while true do
        game.ReplicatedStorage.Remotes.Rebirth:FireServer(18980)
        wait(0.1)
    end
end})

-- Pets Tab
PetsTab:AddLabel("Pet XP Boost: Scaling with Rocks!")
PetsTab:AddButton({Name = "Auto-Train Pets", Callback = function()
    while true do
        game.ReplicatedStorage.Remotes.TrainPet:FireServer()
        wait(0.1)
    end
end})

-- Autofarm OP Tab (NEW FEATURES ADDED!)
local orbs = {"Red Orb", "Blue Orb", "Green Orb", "Speed Orb", "Gem Orb"}
local selectedOrb = "Speed Orb"
local delaySpeed = 1

AutofarmOPTab:AddDropdown({
    Name = "Select Orb Type",
    Default = "Speed Orb",
    Options = orbs,
    Callback = function(option)
        selectedOrb = option
    end
})

AutofarmOPTab:AddSlider({
    Name = "Choose Orb Delay (1 to 1,000,000)",
    Min = 1,
    Max = 1000000,
    Default = 1,
    Callback = function(value)
        delaySpeed = value / 1000000
    end
})

AutofarmOPTab:AddButton({Name = "Start Auto-Orb Farm", Callback = function()
    while true do
        for _,v in pairs(game.Workspace:GetChildren()) do
            if v:IsA("Part") and v.Name == selectedOrb then
                game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame = v.CFrame
                wait(delaySpeed)
            end
        end
    end
end})

-- Credits Tab
CreditsTab:AddLabel("Made for xCxS Hub ‚öîÔ∏èüî•")
CreditsTab:AddLabel("Optimized by Microsoft Copilot")

OrionLib:Init()
